<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8">
    
	<title>依然webpack - Amorki&#39;s</title>
    <meta name="author" content="">
    
	<meta name="description" content="&lt;p&gt;Jin天想扣一扣webpack的loader和plugin，以及babel编译的一些学习心得~&lt;br&gt;好长时间没更新啦&lt;del&gt;坚持学习 喵&lt;/del&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;loader&#34;&gt;&lt;a href=&#34;#loader&#34; class=&#34;headerlink&#34; title=&#34;loader&#34;&gt;&lt;/a&gt;loader&lt;/h1&gt;&lt;p&gt;webpack只能处理js文件，其他的文件形式，需要loader&lt;/p&gt;
&lt;p&gt;👇&lt;/p&gt;
&lt;p&gt;loader：翻译、管道，会把一个东西转成另一种东西&lt;/p&gt;
&lt;h1 id=&#34;plugin&#34;&gt;&lt;a href=&#34;#plugin&#34; class=&#34;headerlink&#34; title=&#34;plugin&#34;&gt;&lt;/a&gt;plugin&lt;/h1&gt;&lt;p&gt;插件，不是负责给webpack提供东西的，只处理额外的工作，独立与webpack之外，它的成功也不用跟webpack反馈，如校验之类的工作，与webpack程序平行工作&lt;/p&gt;
&lt;p&gt;plugin：辅助webpack工作的，它的结果不给webpack&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;loader怎么用&#34;&gt;&lt;a href=&#34;#loader怎么用&#34; class=&#34;headerlink&#34; title=&#34;loader怎么用&#34;&gt;&lt;/a&gt;loader怎么用&lt;/h1&gt;&lt;blockquote&gt;
&lt;p&gt;css编译：&lt;/p&gt;
&lt;p&gt;npm i css-loader style-loader -D    (既能读进来处理好，也能显示到页面)&lt;/p&gt;
&lt;p&gt;css-loader：css打包，以及处理css当中的一些引入，如@import&lt;/p&gt;
&lt;p&gt;style-loader：css打包后还需要渲染到页面&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;loader配置：&#34;&gt;&lt;a href=&#34;#loader配置：&#34; class=&#34;headerlink&#34; title=&#34;loader配置：&#34;&gt;&lt;/a&gt;loader配置：&lt;/h2&gt;&lt;h3 id=&#34;1-单loader&#34;&gt;&lt;a href=&#34;#1-单loader&#34; class=&#34;headerlink&#34; title=&#34;1.单loader&#34;&gt;&lt;/a&gt;1.单loader&lt;/h3&gt;&lt;figure class=&#34;highlight&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&amp;#123;test: / /, use: &amp;#x27;xxx-loader&amp;#x27;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&#34;2-多个loader&#34;&gt;&lt;a href=&#34;#2-多个loader&#34; class=&#34;headerlink&#34; title=&#34;2.多个loader&#34;&gt;&lt;/a&gt;2.多个loader&lt;/h3&gt;&lt;figure class=&#34;highlight&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&amp;#123;test: / /, use: [&amp;#x27;xxx-loader&amp;#x27;, &amp;#x27;xxx-loader&amp;#x27;]&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&#34;3-loader-参数&#34;&gt;&lt;a href=&#34;#3-loader-参数&#34; class=&#34;headerlink&#34; title=&#34;3.loader+参数&#34;&gt;&lt;/a&gt;3.loader+参数&lt;/h3&gt;&lt;figure class=&#34;highlight&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&amp;#123; test: / /, use: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  loader: &amp;#x27;xx-loader&amp;#x27;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  options: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    a: &amp;#x27;&amp;#x27;, &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    b: &amp;#x27;&amp;#x27;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;h3 id=&#34;4-多loader-参数&#34;&gt;&lt;a href=&#34;#4-多loader-参数&#34; class=&#34;headerlink&#34; title=&#34;4.多loader+参数&#34;&gt;&lt;/a&gt;4.多loader+参数&lt;/h3&gt;&lt;figure class=&#34;highlight&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;17&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&amp;#123;test: / /, use: [&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    loader: &amp;#x27;xxx-loader&amp;#x27;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    options: ...&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125;, &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    loader: &amp;#x27;xxx2-loader&amp;#x27;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    options: xxx&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;]&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#123;test: / /, use: [&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#x27;xxx-loader&amp;#x27;, &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    loader: &amp;#x27;xxx2-loader&amp;#x27;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    options: xxx&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;]&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;



&lt;hr&gt;
&lt;blockquote&gt;
&lt;p&gt;图片编译&lt;/p&gt;
&lt;p&gt;file-loader   读取文件、不做处理、直接输出，保证通用性&lt;br&gt;url-loader    读取文件、把文件的内容转换成base64，打包到bundle里面&lt;/p&gt;
&lt;p&gt;👆两个东西要一起装&lt;/p&gt;
&lt;p&gt;base64：&lt;br&gt;1.优点——减少请求&lt;br&gt;2.缺点——略微增加文件体积&lt;br&gt;1.3K -&amp;gt; 1.5K&lt;br&gt;10%~20%&lt;/p&gt;
&lt;figure class=&#34;highlight&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;test: /\.(jpg|png|gif|webp|ico)$/i,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;use: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; loader: &amp;quot;file-loader&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; options: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;   outputPath: &amp;quot;imgs/&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;figure class=&#34;highlight&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;test: /\.(jpg|png|gif|webp|ico)$/i,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;use: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; loader: &amp;quot;url-loader&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; options: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;   &lt;span class=&#34;comment&#34;&gt;// 大于limit的文件会直接pass，以原样输出&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;   &lt;span class=&#34;comment&#34;&gt;// 加入限制是8k&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;   limit: 8 * 1024,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;   outputPath: &amp;quot;imgs/&amp;quot;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;引发问题：路径会出问题~&lt;/p&gt;
&lt;p&gt;file-loader和url-loader处理同一张图片（通过改变limit限制），会出来不同的路径&lt;/p&gt;
&lt;p&gt;👇&lt;/p&gt;
&lt;p&gt;publicPath：将来文件发布了之后，文件路径会以什么为基准，就是一个字符串链接，类似baseURL&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gisvz0kq8rj30fp03tgls.jpg&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gisvz83wivj30k503vjrl.jpg&#34;&gt;&lt;/p&gt;
&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gisw06b3psj30c1049mx8.jpg&#34; style=&#34;zoom:150%;&#34; /&gt;



&lt;p&gt;publicPath在开发时和发布时也不同哦~&lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;p&gt;压缩图片  image-loader&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;less编译&lt;/p&gt;
&lt;figure class=&#34;highlight js&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;//less&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#123; &lt;span class=&#34;attr&#34;&gt;test&lt;/span&gt;: &lt;span class=&#34;regexp&#34;&gt;/\.less$/&lt;/span&gt;, &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;use: [&lt;span class=&#34;string&#34;&gt;&amp;#x27;style-loader&amp;#x27;&lt;/span&gt;, &lt;span class=&#34;string&#34;&gt;&amp;#x27;css-loader&amp;#x27;&lt;/span&gt;, &lt;span class=&#34;string&#34;&gt;&amp;#x27;less-loader&amp;#x27;&lt;/span&gt;] &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;/blockquote&gt;
&lt;hr&gt;
&lt;h1 id=&#34;Vue-loader&#34;&gt;&lt;a href=&#34;#Vue-loader&#34; class=&#34;headerlink&#34; title=&#34;Vue-loader&#34;&gt;&lt;/a&gt;Vue-loader&lt;/h1&gt;&lt;p&gt;npm i &lt;u&gt;vue-loader&lt;/u&gt; &lt;u&gt;webpack webpack-cli&lt;/u&gt; &lt;u&gt;vue-style-loader&lt;/u&gt; &lt;u&gt;vue-html-loader&lt;/u&gt; &lt;u&gt;vue-template-compile&lt;/u&gt;  -D&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;vue-loader：编译vue&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;webpack webpack-cli：编译vue必备&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;vue-style-loader：编译vue里的样式，style-loader的一个子集&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;vue-html-loader：编译vue文件里的template里的html的一些引用，如scr引入图片之类的&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;vue-template-compile：编译vue模板的，里面有些花括号之类的&lt;/p&gt;
&lt;p&gt;作用：①在编译模板的时候发现模板的问题 ②预编译方式提高性能&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;预编译&lt;/strong&gt;：打包时就已经编译完了—-提前发现问题，提升性能~&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;运行时编译&lt;/strong&gt;：到了浏览器之后再编译&lt;/p&gt;
&lt;hr&gt;
&lt;figure class=&#34;highlight js&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;//webpack.config.js&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;const&lt;/span&gt; VueLoaderPlugin = &lt;span class=&#34;built_in&#34;&gt;require&lt;/span&gt;(&lt;span class=&#34;string&#34;&gt;&amp;quot;vue-loader/lib/plugin&amp;quot;&lt;/span&gt;);   &lt;span class=&#34;comment&#34;&gt;//②从vue-loader引入这个插件&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-------&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; &lt;span class=&#34;built_in&#34;&gt;module&lt;/span&gt;: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;     &lt;span class=&#34;comment&#34;&gt;// VUE编译&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;      &amp;#123; &lt;span class=&#34;attr&#34;&gt;test&lt;/span&gt;: &lt;span class=&#34;regexp&#34;&gt;/\.vue$/&lt;/span&gt;, use: &lt;span class=&#34;string&#34;&gt;&amp;quot;vue-loader&amp;quot;&lt;/span&gt; &amp;#125;,                &lt;span class=&#34;comment&#34;&gt;//①安装vue-loader后引入这个loader&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;-------&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;span class=&#34;comment&#34;&gt;//VueLoaderPlugin是用来做模板编译的，做了vue-loader的一部分工作&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;plugins: [&lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; VueLoaderPlugin()]                             &lt;span class=&#34;comment&#34;&gt;//③new一下才能用&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;figure class=&#34;highlight js&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;import&lt;/span&gt; Vue &lt;span class=&#34;keyword&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;vue&amp;quot;&lt;/span&gt;;--&amp;gt;??这里直接引vue不行，因为vue只是浏览器运行时的库，没有ECMAScript模块ES6的库&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;./cmp1.vue&amp;quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;let&lt;/span&gt; vm = &lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; Vue(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  el: &lt;span class=&#34;string&#34;&gt;&amp;quot;#root&amp;quot;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;引vue，会报错👇&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1giup2z0htjj30n4020glv.jpg&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1gisx1noc8tj30a20bymxl.jpg&#34;&gt;&lt;/p&gt;
&lt;p&gt;这里的vue.esm.js是ECMAScript的module，ES模块的VUE，&lt;/p&gt;
&lt;p&gt;现在import一个VUE，要保证那边有exportVUE，所以我们这里不能引import Vue from “vue”;&lt;/p&gt;
&lt;figure class=&#34;highlight js&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;//index.js&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;import&lt;/span&gt; Vue &lt;span class=&#34;keyword&#34;&gt;from&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;vue/dist/vue.esm&amp;quot;&lt;/span&gt;;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;import&lt;/span&gt; &lt;span class=&#34;string&#34;&gt;&amp;quot;./cmp1.vue&amp;quot;&lt;/span&gt;;  ---&amp;gt;这种引入实际上等同于 cmp1 = vue.extend 这种局部写法，所以要用components&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;                        &lt;span class=&#34;comment&#34;&gt;//👇&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;keyword&#34;&gt;let&lt;/span&gt; vm = &lt;span class=&#34;keyword&#34;&gt;new&lt;/span&gt; Vue(&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  el: &lt;span class=&#34;string&#34;&gt;&amp;quot;#root&amp;quot;&lt;/span&gt;,          &lt;span class=&#34;comment&#34;&gt;//👇&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  components: &amp;#123;    &lt;span class=&#34;comment&#34;&gt;// 👈&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    cmp1,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &amp;#125;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  template:&lt;span class=&#34;string&#34;&gt;`&amp;lt;cmp1&amp;gt;&amp;lt;/cmp1&amp;gt;`&lt;/span&gt;      &lt;span class=&#34;comment&#34;&gt;//着这里要添加template把cmp1输出去，为了不让VUE与thml混在一起&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;);&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;hr&gt;
&lt;p&gt;此时，远远不够，如果出现async异步操作，就无法往下进行，&lt;/p&gt;
&lt;p&gt;so&lt;/p&gt;
&lt;p&gt;👇&lt;/p&gt;
&lt;hr&gt;
&lt;h1 id=&#34;babel编译&#34;&gt;&lt;a href=&#34;#babel编译&#34; class=&#34;headerlink&#34; title=&#34;babel编译&#34;&gt;&lt;/a&gt;babel编译&lt;/h1&gt;&lt;p&gt;把特别高版本的语言编译给较低版本的浏览器~&lt;/p&gt;
&lt;p&gt;npm i babel-loader @babel/core @babel/preset-env -D&lt;/p&gt;
&lt;p&gt; @babel/preset-env是一个预设，能根据需求选择配置&lt;/p&gt;
&lt;figure class=&#34;highlight js&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;10&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;11&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;12&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;13&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;14&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;15&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;16&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;comment&#34;&gt;//js&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#123;&lt;span class=&#34;attr&#34;&gt;test&lt;/span&gt;: &lt;span class=&#34;regexp&#34;&gt;/\.jsx?$/i&lt;/span&gt;, use: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  loader: &lt;span class=&#34;string&#34;&gt;&amp;#x27;babel-loader&amp;#x27;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  options: &amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    presets: [&lt;span class=&#34;string&#34;&gt;&amp;#x27;@babel/preset-env&amp;#x27;&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// presets: [&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;//   [&amp;#x27;@babel/preset-env&amp;#x27;, &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;//     targets: &amp;#123;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;//       chrome: 58,&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;//       ie: 7&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;//     &amp;#125;&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;//   &amp;#125;]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;    &lt;span class=&#34;comment&#34;&gt;// ]&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;   &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt; &amp;#125;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;👇&lt;/p&gt;
&lt;p&gt;加了babel之后，遇到async会报错&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://tva1.sinaimg.cn/large/007S8ZIlly1giupk3hvf4j30hn06675c.jpg&#34;&gt;&lt;/p&gt;
&lt;p&gt;因为babel是向下兼容的，async是ES7语言，babel会用regeneraterRuntime把他编译成低版本的回调函数 —&amp;gt;polyfill登场&lt;/p&gt;
&lt;p&gt;babel -&amp;gt; async -&amp;gt; regenerator （这时候要求有polyfill在才能实现上述过程）&lt;/p&gt;
&lt;p&gt;&lt;code&gt;polyfill&lt;/code&gt;——是一个库，补充js的功能&lt;/p&gt;
&lt;p&gt;npm i @babel/polyfill -S   &lt;/p&gt;
&lt;p&gt;他是一个js文件，写在entry里&lt;/p&gt;
&lt;figure class=&#34;highlight js&#34;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&#34;gutter&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;8&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;9&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;&lt;span class=&#34;line&#34;&gt;···&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&lt;span class=&#34;built_in&#34;&gt;module&lt;/span&gt;.exports=&amp;#123;&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  mode: &lt;span class=&#34;string&#34;&gt;&amp;#x27;development&amp;#x27;&lt;/span&gt;,&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  entry: [&lt;span class=&#34;string&#34;&gt;&amp;#x27;@babel/polyfill&amp;#x27;&lt;/span&gt;, &lt;span class=&#34;string&#34;&gt;&amp;#x27;./src/index&amp;#x27;&lt;/span&gt;]&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  ···&lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;  &lt;/span&gt;&lt;br&gt;&lt;span class=&#34;line&#34;&gt;&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;

&lt;p&gt;思路：&lt;/p&gt;
&lt;p&gt;1.babel——降级（兼容低版本）&lt;/p&gt;
&lt;p&gt;👇&lt;/p&gt;
&lt;p&gt;2.async函数&lt;/p&gt;
&lt;p&gt;👇&lt;/p&gt;
&lt;p&gt;3.polyfill&lt;/p&gt;
"> <!-- TODO: truncate -->
	
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

	<link href="atom.xml" rel="alternate" title="Amorki&#39;s" type="application/atom+xml">
	<link href="/favicon.ico" rel="shortcut icon">
    <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
    <link href="/stylesheets/custom.css" media="screen, projection" rel="stylesheet" type="text/css">
    <link href="/stylesheets/hljs.css" media="screen, projection" rel="stylesheet" type="text/css">

    <link href='//fonts.googleapis.com/css?family=Slackey' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Fjalla+One' rel='stylesheet' type='text/css'>
    <link href='//fonts.googleapis.com/css?family=Amethysta' rel='stylesheet' type='text/css'>
	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![}]-->

    <script type="text/javascript" src="/javascripts/jquery-tapir.js"></script>

    <!-- remove or comment it to disable ajaxification -->   
    <!-- <script src="/javascripts/ajaxify.js"></script> -->

    

    

<meta name="generator" content="Hexo 5.0.0"></head>


<body>
    <div id="wrapper">
    <header id="header" class="inner"><!-- for more effects see _animate.scss -->
<h1 class="animated bounceInDown">
    <div id="headerbg">
        Amorki&#39;s
    </div>
</h1>
<span class="subtitle"></span>
<br>

<ul id="social-links" style="text-align:center; clear:both;">
    
        <!-- GitHub -->
        <li>
            <a target="_blank" rel="noopener" href="https://github.com/amorkiki" class="github" title="Github"></a>
        </li>
        
            
                    
                        <!-- Facebook -->
                        <li>
                            <a target="_blank" rel="noopener" href="http://www.facebook.com/kiki.wu.92167789" class="facebook" title="Facebook"></a>
                        </li>
                        
                            
                                <!-- Twitter -->
                                <li>
                                    <a target="_blank" rel="noopener" href="http://www.twitter.com/BENICEXKiki" class="twitter" title="Twitter"></a>
                                </li>
                                
                                    
                                            
                                                    
                                                            
                                                                <!-- Instagram -->
                                                                <li>
                                                                    <a target="_blank" rel="noopener" href="http://www.instagram.com/wuuuuuujt" class="instagram" title="Instagram"></a>
                                                                </li>

                                                                
</ul>

<!-- use full url including 'index.html' for navigation bar if you are using ajax -->
<ul id="nav">
	<li id="ajax"><a href="/index.html">Home</a></li>
	<li id="ajax"><a href="/archives/index.html">Archives</a></li>
	<li id="ajax"><a href="/tags/index.html">Tags</a></li>
    <li><a href="/atom.xml">RSS</a></li>
    
    <li>
    <div id="dark">
        <form action="//www.google.com.hk/search" method="get" accept-charset="UTF-8" id="search">
            <input type="hidden" name="sitesearch" value="http://yoursite.com" />
            <input type="text" name="q" results="0" placeholder="Search..." x-webkit-speech />
        </form>
    </div>
    </li>
        
</ul>




</header>

<div id="toload">
<!-- begin toload -->
    <div id="content" class="inner">
        <article class="post">
	<h2 class="title">依然webpack</h2>
    <div class="meta">
        <div class="date">Published on: <time datetime="2019-04-18T05:09:42.000Z" itemprop="datePublished">Apr 18, 2019</time>
</div>
        <div class="tags">Tags: 

<a href="/tags/webpack/">webpack</a>
</div>
    </div>
	<div class="entry-content"><p>Jin天想扣一扣webpack的loader和plugin，以及babel编译的一些学习心得~<br>好长时间没更新啦<del>坚持学习 喵</del></p>
<hr>
<h1 id="loader"><a href="#loader" class="headerlink" title="loader"></a>loader</h1><p>webpack只能处理js文件，其他的文件形式，需要loader</p>
<p>👇</p>
<p>loader：翻译、管道，会把一个东西转成另一种东西</p>
<h1 id="plugin"><a href="#plugin" class="headerlink" title="plugin"></a>plugin</h1><p>插件，不是负责给webpack提供东西的，只处理额外的工作，独立与webpack之外，它的成功也不用跟webpack反馈，如校验之类的工作，与webpack程序平行工作</p>
<p>plugin：辅助webpack工作的，它的结果不给webpack</p>
<hr>
<h1 id="loader怎么用"><a href="#loader怎么用" class="headerlink" title="loader怎么用"></a>loader怎么用</h1><blockquote>
<p>css编译：</p>
<p>npm i css-loader style-loader -D    (既能读进来处理好，也能显示到页面)</p>
<p>css-loader：css打包，以及处理css当中的一些引入，如@import</p>
<p>style-loader：css打包后还需要渲染到页面</p>
</blockquote>
<h2 id="loader配置："><a href="#loader配置：" class="headerlink" title="loader配置："></a>loader配置：</h2><h3 id="1-单loader"><a href="#1-单loader" class="headerlink" title="1.单loader"></a>1.单loader</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;test: / /, use: &#x27;xxx-loader&#x27;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-多个loader"><a href="#2-多个loader" class="headerlink" title="2.多个loader"></a>2.多个loader</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;test: / /, use: [&#x27;xxx-loader&#x27;, &#x27;xxx-loader&#x27;]&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-loader-参数"><a href="#3-loader-参数" class="headerlink" title="3.loader+参数"></a>3.loader+参数</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#123; test: / /, use: &#123;</span><br><span class="line">  loader: &#x27;xx-loader&#x27;,</span><br><span class="line">  options: &#123;</span><br><span class="line">    a: &#x27;&#x27;, </span><br><span class="line">    b: &#x27;&#x27;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-多loader-参数"><a href="#4-多loader-参数" class="headerlink" title="4.多loader+参数"></a>4.多loader+参数</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;test: / /, use: [</span><br><span class="line">  &#123;</span><br><span class="line">    loader: &#x27;xxx-loader&#x27;,</span><br><span class="line">    options: ...</span><br><span class="line">  &#125;, &#123;</span><br><span class="line">    loader: &#x27;xxx2-loader&#x27;,</span><br><span class="line">    options: xxx</span><br><span class="line">  &#125;</span><br><span class="line">]&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#123;test: / /, use: [</span><br><span class="line">  &#x27;xxx-loader&#x27;, &#123;</span><br><span class="line">    loader: &#x27;xxx2-loader&#x27;,</span><br><span class="line">    options: xxx</span><br><span class="line">  &#125;</span><br><span class="line">]&#125;</span><br></pre></td></tr></table></figure>



<hr>
<blockquote>
<p>图片编译</p>
<p>file-loader   读取文件、不做处理、直接输出，保证通用性<br>url-loader    读取文件、把文件的内容转换成base64，打包到bundle里面</p>
<p>👆两个东西要一起装</p>
<p>base64：<br>1.优点——减少请求<br>2.缺点——略微增加文件体积<br>1.3K -&gt; 1.5K<br>10%~20%</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">test: /\.(jpg|png|gif|webp|ico)$/i,</span><br><span class="line">use: &#123;</span><br><span class="line"> loader: &quot;file-loader&quot;,</span><br><span class="line"> options: &#123;</span><br><span class="line">   outputPath: &quot;imgs/&quot;,</span><br><span class="line"> &#125;,</span><br><span class="line">&#125;,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">test: /\.(jpg|png|gif|webp|ico)$/i,</span><br><span class="line">use: &#123;</span><br><span class="line"> loader: &quot;url-loader&quot;,</span><br><span class="line"> options: &#123;</span><br><span class="line">   <span class="comment">// 大于limit的文件会直接pass，以原样输出</span></span><br><span class="line">   <span class="comment">// 加入限制是8k</span></span><br><span class="line">   limit: 8 * 1024,</span><br><span class="line">   outputPath: &quot;imgs/&quot;,</span><br><span class="line"> &#125;,</span><br><span class="line">&#125;,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>

<p>引发问题：路径会出问题~</p>
<p>file-loader和url-loader处理同一张图片（通过改变limit限制），会出来不同的路径</p>
<p>👇</p>
<p>publicPath：将来文件发布了之后，文件路径会以什么为基准，就是一个字符串链接，类似baseURL</p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gisvz0kq8rj30fp03tgls.jpg"></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gisvz83wivj30k503vjrl.jpg"></p>
<img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gisw06b3psj30c1049mx8.jpg" style="zoom:150%;" />



<p>publicPath在开发时和发布时也不同哦~</p>
</blockquote>
<hr>
<p>压缩图片  image-loader</p>
<blockquote>
<p>less编译</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//less</span></span><br><span class="line">&#123; <span class="attr">test</span>: <span class="regexp">/\.less$/</span>, </span><br><span class="line">use: [<span class="string">&#x27;style-loader&#x27;</span>, <span class="string">&#x27;css-loader&#x27;</span>, <span class="string">&#x27;less-loader&#x27;</span>] </span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure>
</blockquote>
<hr>
<h1 id="Vue-loader"><a href="#Vue-loader" class="headerlink" title="Vue-loader"></a>Vue-loader</h1><p>npm i <u>vue-loader</u> <u>webpack webpack-cli</u> <u>vue-style-loader</u> <u>vue-html-loader</u> <u>vue-template-compile</u>  -D</p>
<ul>
<li><p>vue-loader：编译vue</p>
</li>
<li><p>webpack webpack-cli：编译vue必备</p>
</li>
<li><p>vue-style-loader：编译vue里的样式，style-loader的一个子集</p>
</li>
<li><p>vue-html-loader：编译vue文件里的template里的html的一些引用，如scr引入图片之类的</p>
</li>
<li><p>vue-template-compile：编译vue模板的，里面有些花括号之类的</p>
<p>作用：①在编译模板的时候发现模板的问题 ②预编译方式提高性能</p>
</li>
</ul>
<p><strong>预编译</strong>：打包时就已经编译完了—-提前发现问题，提升性能~</p>
<p><strong>运行时编译</strong>：到了浏览器之后再编译</p>
<hr>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//webpack.config.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> VueLoaderPlugin = <span class="built_in">require</span>(<span class="string">&quot;vue-loader/lib/plugin&quot;</span>);   <span class="comment">//②从vue-loader引入这个插件</span></span><br><span class="line">-------</span><br><span class="line">  </span><br><span class="line"> <span class="built_in">module</span>: &#123;</span><br><span class="line">     <span class="comment">// VUE编译</span></span><br><span class="line">      &#123; <span class="attr">test</span>: <span class="regexp">/\.vue$/</span>, use: <span class="string">&quot;vue-loader&quot;</span> &#125;,                <span class="comment">//①安装vue-loader后引入这个loader</span></span><br><span class="line"> &#125;</span><br><span class="line">-------</span><br><span class="line">  <span class="comment">//VueLoaderPlugin是用来做模板编译的，做了vue-loader的一部分工作</span></span><br><span class="line">plugins: [<span class="keyword">new</span> VueLoaderPlugin()]                             <span class="comment">//③new一下才能用</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span>;--&gt;??这里直接引vue不行，因为vue只是浏览器运行时的库，没有ECMAScript模块ES6的库</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;./cmp1.vue&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">&quot;#root&quot;</span>,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>引vue，会报错👇</p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1giup2z0htjj30n4020glv.jpg"></p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1gisx1noc8tj30a20bymxl.jpg"></p>
<p>这里的vue.esm.js是ECMAScript的module，ES模块的VUE，</p>
<p>现在import一个VUE，要保证那边有exportVUE，所以我们这里不能引import Vue from “vue”;</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//index.js</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">&quot;vue/dist/vue.esm&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;./cmp1.vue&quot;</span>;  ---&gt;这种引入实际上等同于 cmp1 = vue.extend 这种局部写法，所以要用components</span><br><span class="line">                        <span class="comment">//👇</span></span><br><span class="line"><span class="keyword">let</span> vm = <span class="keyword">new</span> Vue(&#123;</span><br><span class="line">  el: <span class="string">&quot;#root&quot;</span>,          <span class="comment">//👇</span></span><br><span class="line">  components: &#123;    <span class="comment">// 👈</span></span><br><span class="line">    cmp1,</span><br><span class="line">  &#125;,</span><br><span class="line">  template:<span class="string">`&lt;cmp1&gt;&lt;/cmp1&gt;`</span>      <span class="comment">//着这里要添加template把cmp1输出去，为了不让VUE与thml混在一起</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<hr>
<p>此时，远远不够，如果出现async异步操作，就无法往下进行，</p>
<p>so</p>
<p>👇</p>
<hr>
<h1 id="babel编译"><a href="#babel编译" class="headerlink" title="babel编译"></a>babel编译</h1><p>把特别高版本的语言编译给较低版本的浏览器~</p>
<p>npm i babel-loader @babel/core @babel/preset-env -D</p>
<p> @babel/preset-env是一个预设，能根据需求选择配置</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//js</span></span><br><span class="line">&#123;<span class="attr">test</span>: <span class="regexp">/\.jsx?$/i</span>, use: &#123;</span><br><span class="line">  loader: <span class="string">&#x27;babel-loader&#x27;</span>,</span><br><span class="line">  options: &#123;</span><br><span class="line">    presets: [<span class="string">&#x27;@babel/preset-env&#x27;</span>]</span><br><span class="line">    <span class="comment">// presets: [</span></span><br><span class="line">    <span class="comment">//   [&#x27;@babel/preset-env&#x27;, &#123;</span></span><br><span class="line">    <span class="comment">//     targets: &#123;</span></span><br><span class="line">    <span class="comment">//       chrome: 58,</span></span><br><span class="line">    <span class="comment">//       ie: 7</span></span><br><span class="line">    <span class="comment">//     &#125;</span></span><br><span class="line">    <span class="comment">//   &#125;]</span></span><br><span class="line">    <span class="comment">// ]</span></span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>👇</p>
<p>加了babel之后，遇到async会报错</p>
<p><img src="https://tva1.sinaimg.cn/large/007S8ZIlly1giupk3hvf4j30hn06675c.jpg"></p>
<p>因为babel是向下兼容的，async是ES7语言，babel会用regeneraterRuntime把他编译成低版本的回调函数 —&gt;polyfill登场</p>
<p>babel -&gt; async -&gt; regenerator （这时候要求有polyfill在才能实现上述过程）</p>
<p><code>polyfill</code>——是一个库，补充js的功能</p>
<p>npm i @babel/polyfill -S   </p>
<p>他是一个js文件，写在entry里</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">···</span><br><span class="line"></span><br><span class="line"><span class="built_in">module</span>.exports=&#123;</span><br><span class="line">  mode: <span class="string">&#x27;development&#x27;</span>,</span><br><span class="line">  entry: [<span class="string">&#x27;@babel/polyfill&#x27;</span>, <span class="string">&#x27;./src/index&#x27;</span>]</span><br><span class="line">  </span><br><span class="line">  ···</span><br><span class="line">  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>思路：</p>
<p>1.babel——降级（兼容低版本）</p>
<p>👇</p>
<p>2.async函数</p>
<p>👇</p>
<p>3.polyfill</p>
</div>

<div class="meta">
	
</div>
</article>

	<div class="share">
	<div class="addthis_toolbox addthis_default_style ">
	
	
	<a class="addthis_button_tweet"></a>
	
	
	<a class="addthis_counter addthis_pill_style"></a>
	</div>
  <script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid="></script>
</div>




    </div>
    <footer id="footer">
    <div style="display:inline">
    Copyright &copy; 2020

    JTW
. Powered by <a href="http://zespia.tw/hexo/" target="_blank">Hexo</a> |
    Theme is <a target="_blank" rel="noopener" href="https://github.com/wd/hexo-fabric">hexo-fabric</a>, fork from <a target="_blank" rel="noopener" href="http://github.com/panks/fabric">fabric</a> by <a target="_blank" rel="noopener" href="http://panks.me">Pankaj Kumar</a>
</div>


    </footer>
    <script src="/javascripts/fabric.js"></script>
<script src="/javascripts/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
	$('.fancybox').fancybox();
})(jQuery);
</script>
 <!-- Delete or comment this line to disable Fancybox -->



<!-- end toload --> 
</div>
</div>
<script src="/javascripts/jquery.ui.totop.js" type="text/javascript"></script>
<script type="text/javascript">
/*<![CDATA[*/
;(function($){$().UItoTop({easingType:'easeOutCirc'});})(jQuery); 
/*]]>*/
</script><!-- remove it to remove the scroll to top button -->
</body>
</html>
